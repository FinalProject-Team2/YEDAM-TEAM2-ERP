<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">
<head>
<meta charset="UTF-8">
<title>공통 코드 관리</title>

<!-- Toast UI Grid -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>

<style>
.form-select {
	color: #000 !important;
}

.common-code-wrapper #groupGrid, .common-code-wrapper #codeGrid {
	width: 100%;
	margin-top: 4px;
}

.common-code-wrapper .card-title {
	font-weight: 600;
}

/* 카드 공통 헤더 : 제목 왼쪽, 버튼 오른쪽 */
.common-code-wrapper .card-header.with-actions {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.common-code-wrapper .card-header-left h5 {
	margin-bottom: 0;
}

.common-code-wrapper .card-header-right .btn {
	margin-left: .25rem;
}
</style>
</head>

<body layout:fragment="content">
	<div class="common-code-wrapper">

		<!-- 공통 코드 조회 카드 -->
		<div class="row">
			<div class="col-md-12 mb-3">
				<div class="card">

					<!-- 헤더: 제목 + 초기화/조회 버튼 -->
					<div class="card-header">
						<div class="card-header-left">
							<h5 class="card-title">공통 코드 조회</h5>
						</div>
						<div class="card-header-right">
							<button id="btnReset" class="btn btn-dark">초기화</button>
							<button id="btnSearch" class="btn btn-outline-dark">조회</button>
						</div>
					</div>

					<div class="card-body">
						<div class="row mb-2">
							<div class="col-md-6">
								<label for="codeGroupName">코드 그룹 명</label> <input
									id="codeGroupName" type="text" class="form-control"
									placeholder="직급">
							</div>
							<div class="col-md-6">
								<label for="useYn">사용 여부</label> <select id="useYn"
									class="form-select">
									<option value="" selected>전체</option>
									<option value="Y">사용</option>
									<option value="N">미사용</option>
								</select>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>

		<!-- 좌측: 그룹 Grid / 우측: 코드 Grid -->
		<div class="row">
			<!-- 그룹 Grid 카드 -->
			<div class="col-md-6">
				<div class="card mb-3">

					<!-- 헤더: 코드 그룹 목록 (버튼 없음) -->
					<div class="card-header">
						<div class="card-header-left">
							<h5 class="card-title">코드 그룹 목록</h5>
						</div>
						<div class="card-header-right">
							<!-- 필요 시 버튼 추가 -->
						</div>
					</div>

					<div class="card-body">
						<div id="groupGrid"></div>
					</div>
				</div>
			</div>

			<!-- 코드 Grid 카드 -->
			<div class="col-md-6">
				<div class="card mb-3">

					<!-- 헤더: 공통 코드 목록 + 등록 버튼 -->
					<div class="card-header">
						<div class="card-header-left">
							<h5 class="card-title">공통 코드 목록</h5>
						</div>
						<div class="card-header-right">
							<button type="button" class="btn btn-outline-dark">등록</button>
						</div>
					</div>

					<div class="card-body">
						<div id="codeGrid"></div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<script>
    // ==========================
    // 1. Grid 테마 설정
    // ==========================
    tui.Grid.applyTheme('default', {
        cell: {
            normal: {
                border: '#dedede',
                background: '#ffffff',
                showVerticalBorder: true
            },
            header: {
                border: '#dedede',
                background: '#f5f5f5',
                showVerticalBorder: true
            },
            editable: {
                background: '#FFFDF0',
                text: '#000'
            },
            selectedHeader: {
                background: '#f5f5f5'
            },
            selected: {
                background: '#ffffff'
            }
        }
    });

    // ==========================
    // 2. 화면 테스트용 기본 데이터
    // ==========================
    const groupData = [
        { groupId: 'MA_001', groupName: '직급', description: '직급 공통 코드', useYn: 'Y' },
        { groupId: 'MA_002', groupName: '직무', description: '직무 공통 코드', useYn: 'Y' },
        { groupId: 'MA_003', groupName: '부서', description: '부서 공통 코드', useYn: 'N' }
    ];

    const codeData = [
        { codeId: 'SUB_001', codeName: '관리자', useYn: 'Y' },
        { codeId: 'SUB_002', codeName: '팀장',   useYn: 'Y' },
        { codeId: 'SUB_003', codeName: '사원',   useYn: 'Y' }
    ];

    // ==========================
    // 3. Grid 공통 옵션 + 생성
    // ==========================
    const commonGridOptions = {
        bodyHeight: 320,
        scrollX: false,
        scrollY: false,    // 세로 스크롤 없애서 우측 여백 제거
        rowHeaders: [],
        columnOptions: {
            minWidth: 80,
            resizable: true
        }
    };

    // 좌측: 코드 그룹 Grid (기본 데이터 출력)
    const groupGrid = new tui.Grid({
        el: document.getElementById('groupGrid'),
        data: groupData,   // 더미 데이터 바로 바인딩
        ...commonGridOptions,
        columns: [
            { header: '그룹 ID',     name: 'groupId' },
            { header: '코드 그룹 명', name: 'groupName' },
            { header: '설명',        name: 'description' },
            { header: '사용 여부',   name: 'useYn', align: 'center' }
        ]
    });

    // 우측: 공통 코드 Grid (기본 데이터 출력)
    const codeGrid = new tui.Grid({
        el: document.getElementById('codeGrid'),
        data: codeData,    // 더미 데이터 바로 바인딩
        ...commonGridOptions,
        columns: [
            { header: '코드 ID',   name: 'codeId' },
            { header: '코드 명',   name: 'codeName' },
            { header: '사용 여부', name: 'useYn', align: 'center' }
        ]
    });

    // ==========================
    // 4. 초기화 버튼만 동작 (화면용)
    // ==========================
    document.getElementById('btnReset').addEventListener('click', () => {
        document.getElementById('codeGroupName').value = '';
        document.getElementById('useYn').value = '';   // 전체로 초기화

        // 초기화 시 그리드도 비움 (원하면 groupData/codeData로 다시 채워도 됨)
        groupGrid.resetData([]);
        codeGrid.resetData([]);
    });

    // 조회 / 클릭 이벤트는 나중에 백엔드 붙일 때 다시 활성화하면 됨
</script>

</body>
</html>
