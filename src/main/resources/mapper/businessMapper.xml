<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="store.yd2team.business.mapper.BusinessMapper">
  <!-- 목록 조회 -->
    <select id="getList" resultType="store.yd2team.business.service.BusinessVO">
        SELECT
	            potential_info_no  as potentialinfoNo,
	            potential_cond_no  as potentialCondNo,
	            vend_id            as vendId,
	            rank               as rank,
	            vend_nm            as vendNm,
	            industry_type      as industryType,
	            company_size       as companySize,
	            region             as region,
	             establish_date AS establishDate
        FROM 	tb_potential_cust_list
       ORDER BY potential_info_no desc
    </select>

    <!-- 공공데이터 insert -->
    <insert id="insertPotential" parameterType="store.yd2team.business.service.BusinessVO">
        INSERT INTO TB_POTENTIAL_CUST_LIST (
            potential_info_no,
            potential_cond_no,
            vend_id,
            rank,
            vend_nm,
            industry_type,
            company_size,
            region,
            establish_date
        ) VALUES (
            seq_potential_info_no.nextval,
            #{potentialInfoNo},
            #{vendId},
            #{rank},
            #{vendNm},
            #{industryType},
            #{companySize},
            #{region},
            to_date(#{establishDate}, 'yyyy-mm-dd')
        )
    </insert>

</mapper>